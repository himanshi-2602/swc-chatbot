{"version":3,"sources":["config.js","components/Timer.js","api/index.js","components/Loader.js","components/Yearbook.js","components/ScribbleNote.js","components/Preview.js","components/Form.js","components/Closed.js","components/User.js","App.js","index.js"],"names":["module","exports","startdate","enddate","Timer","state","now","Math","trunc","Date","getTime","parse","this","dateInMilliseconds","window","setInterval","setState","id","days","hours","minutes","seconds","src","alt","Component","instance","axios","create","baseURL","Loader","style","margin","className","Yearbook","page","setPage","useState","loading","setLoading","freq","setFreq","location","useLocation","useEffect","component","URLSearchParams","search","substr","get","then","data","length","forEach","roll","catch","finally","history","useHistory","totalPages","ceil","yearbook","marginBottom","map","index","quote","name","nickname","line","lowerIndex","onClick","push","onError","event","target","limit","to","disabled","Scribble","message","random","rotation","Preview","rest","Form","handleChange","value","submitPostData","a","recaptchaValue","recaptchaRef","current","getValue","error","post","clearForm","completed","props","hiddenFileInput","React","createRef","onChange","branch","type","autoComplete","placeholder","sitekey","recaptcha","ref","href","rel","Closed","User","user","setUser","setData","entry","filter","about","size","marginTop","key","App","time","setTime","interval","clearInterval","setComponent","scrollTo","color","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.78778034.chunk.js","sourcesContent":["module.exports = {\n  startdate : \"2021-05-22 18:00:00\",\n  enddate : \"2022-05-26 18:00:00\",\n}","import React, { Component } from \"react\";\nimport { startdate } from \"../config\";\nclass Timer extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tnow: Math.trunc(new Date().getTime() / 1000),\n\t\t};\n\t}\n\n\tdateInMilliseconds() {\n\t\treturn Math.trunc(Date.parse(startdate) / 1000);\n\t}\n\tseconds() {\n\t\treturn (this.dateInMilliseconds() - this.state.now) % 60;\n\t}\n\tminutes() {\n\t\treturn Math.trunc((this.dateInMilliseconds() - this.state.now) / 60) % 60;\n\t}\n\thours() {\n\t\treturn (\n\t\t\tMath.trunc((this.dateInMilliseconds() - this.state.now) / 60 / 60) % 24\n\t\t);\n\t}\n\tdays() {\n\t\treturn Math.trunc(\n\t\t\t(this.dateInMilliseconds() - this.state.now) / 60 / 60 / 24\n\t\t);\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.setInterval(() => {\n\t\t\tthis.setState({ now: Math.trunc(new Date().getTime() / 1000) });\n\t\t}, 1000);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div id=\"timer\">\n\t\t\t\t<p>We open in</p>\n\t\t\t\t<h1>\n\t\t\t\t\t{this.days() ? this.days() + \" d :\" : \"\"} {this.hours()} h :{\" \"}\n\t\t\t\t\t{this.minutes()} m : {this.seconds()} s\n\t\t\t\t</h1>\n\t\t\t\t<p>\n\t\t\t\t\tMeanwhile, just hold the thought, or even better...pen it down maybe?{\" \"}\n\t\t\t\t\t<br />\n\t\t\t\t\tThe more cheesy, the better you make the other person feel :P\n\t\t\t\t</p>\n\t\t\t\t<img src=\"/images/girl-writing.jpg\" alt=\"Illustration\" />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Timer;\n","import axios from \"axios\";\n\nexport const BACKEND = \"http://35.193.72.125:8000\";\n// process.env.NODE_ENV === \"development\"\n// \t? \"http://localhost:8000\"\n// \t: \"http://35.193.72.125:8000\";\n\nconst instance = axios.create({\n\tbaseURL: `${BACKEND}/api`,\n});\n\nexport default instance;\n","import React from \"react\";\nimport \"./Loading.css\";\n\nexport default function Loader() {\n\treturn (\n\t\t<div style={{ margin: \"5rem\" }}>\n\t\t\t<div className=\"lds-ring\">\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport yearbook from \"../yearbook.json\";\nimport axios from \"../api\";\nimport \"./Yearbook.css\";\nimport Loader from \"./Loader\";\n\nfunction shortenQuote(quote) {\n\tconst limit = 200;\n\tif (quote.length > limit) return quote.substr(0, limit - 3) + \"...\";\n\treturn quote;\n}\n\nexport default function Yearbook({ page, setPage }) {\n\tconst [loading, setLoading] = useState(true);\n\tconst [freq, setFreq] = useState([]);\n\n\tconst location = useLocation();\n\n\tuseEffect(() => {\n\t\tconst component = new URLSearchParams(location.search.substr(1)).get(\n\t\t\t\"component\"\n\t\t);\n\t\tif (component !== \"wall\" && component !== \"scribble\") {\n\t\t\taxios\n\t\t\t\t.get(`/posts/`)\n\t\t\t\t.then(({ data }) => {\n\t\t\t\t\tif (data?.length) {\n\t\t\t\t\t\tconst freq = {};\n\t\t\t\t\t\tdata.forEach(({ roll }) => {\n\t\t\t\t\t\t\tif (roll in freq) freq[roll] += 1;\n\t\t\t\t\t\t\telse freq[roll] = 1;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetFreq(freq);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {})\n\t\t\t\t.finally(() => setLoading(false));\n\t\t}\n\t}, [location]);\n\tconst history = useHistory();\n\n\tconst pageSize = 8;\n\tconst totalPages = Math.ceil(yearbook.length / pageSize);\n\n\tif (loading)\n\t\treturn (\n\t\t\t<div id=\"yearbook\">\n\t\t\t\t<h1 style={{ marginBottom: \"3rem\" }}>Yearbook 2021 📖</h1>\n\t\t\t\t<Loader />\n\t\t\t</div>\n\t\t);\n\treturn (\n\t\t<div id=\"yearbook\">\n\t\t\t<h1 style={{ marginBottom: \"3rem\" }}>Yearbook 2021 📖</h1>\n\t\t\t<div className=\"holder\">\n\t\t\t\t{yearbook.map(({ roll, name, nickname, line }, index) => {\n\t\t\t\t\tconst lowerIndex = pageSize * page;\n\t\t\t\t\tconst upperIndex = lowerIndex + pageSize;\n\t\t\t\t\tif (lowerIndex <= index && index < upperIndex)\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={roll}\n\t\t\t\t\t\t\t\tclassName=\"yb-card\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thistory.push(`?component=wall&roll=${roll}`);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{/* <a className=\"yb-card\" href={`?component=wall&roll=${roll}`}> */}\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={`yb_photos_400/${roll}.jpg`}\n\t\t\t\t\t\t\t\t\talt=\"profile\"\n\t\t\t\t\t\t\t\t\tclassName=\"profile-picture\"\n\t\t\t\t\t\t\t\t\tonError={(event) => {\n\t\t\t\t\t\t\t\t\t\tevent.target.src = \"/images/avatar/missing.png\"\n\t\t\t\t\t\t\t\t\t\tevent.target.style = \"border-radius: 50%\";\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<p className=\"name\">{name}</p>\n\t\t\t\t\t\t\t\t<p className=\"nickname\">{nickname}.</p>\n\t\t\t\t\t\t\t\t<p className=\"quote\">{shortenQuote(line)}</p>\n\t\t\t\t\t\t\t\t{freq[roll] && <p>{freq[roll] ?? 0} 📝</p>}\n\t\t\t\t\t\t\t\t<span className=\"tooltiptext\">Go to {roll}'s wall</span>\n\t\t\t\t\t\t\t\t{/* </a> */}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\treturn null;\n\t\t\t\t})}\n\t\t\t</div>\n\t\t\t<p className=\"preview-text\">\n\t\t\t\tWrite a scribble on their walls{\" \"}\n\t\t\t\t<Link to={`?component=scribble`}> here!</Link>\n\t\t\t</p>\n\t\t\t<div className=\"pagination\">\n\t\t\t\t<button onClick={() => setPage(page - 1)} disabled={page === 0}>\n\t\t\t\t\tPrev\n\t\t\t\t</button>\n\t\t\t\t<p>{page + 1}</p>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => setPage(page + 1)}\n\t\t\t\t\tdisabled={page === totalPages - 1}\n\t\t\t\t>\n\t\t\t\t\tNext\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { useState } from \"react\";\nimport \"./ScribbleNote.css\";\n\nexport default function Scribble({ message }) {\n\tconst [rotation] = useState(Math.ceil(Math.random() * 12) - 6);\n\treturn (\n\t\t<div className=\"note-container\">\n\t\t\t<div className={`note note-rotation-${rotation}`}>\n\t\t\t\t<div className=\"note-header\" />\n\t\t\t\t<p className=\"text\">{message}</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport Scribble from \"./ScribbleNote\";\nimport \"./ScribbleNote.css\";\n\nexport default function Preview({ roll, ...rest }) {\n\treturn (\n\t\t<div className=\"preview\">\n\t\t\t<Scribble {...rest} />\n\t\t\t<p className=\"preview-text\">\n\t\t\t\tPreview <br />\n\t\t\t\tThis is how {roll ? roll + \"'s\" : \"his/her\"} wall will receive the\n\t\t\t\tscribble...🙈\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n","import React, { Component } from \"react\";\nimport ReCAPTCHA from \"react-google-recaptcha\";\n\nimport Preview from \"./Preview\";\nimport axios from \"../api\";\nimport Loader from \"./Loader\";\n\nclass Form extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\troll:\n\t\t\t\tnew URLSearchParams(window.location.search.substr(1)).get(\n\t\t\t\t\t\"init_roll\"\n\t\t\t\t) ?? \"\",\n\t\t\tmessage: \"\",\n\t\t\terror: \"\",\n\t\t\tloading: false,\n\t\t};\n\t\tthis.hiddenFileInput = React.createRef(null);\n\t\tthis.recaptchaRef = React.createRef(null);\n\t}\n\n\thandleChange = (event) => {\n\t\tthis.setState({ [event.target.id]: event.target.value });\n\t};\n\n\tsubmitPostData = async () => {\n\t\tconst { message, roll } = this.state;\n\t\tconst data = { message, roll };\n\t\tconst recaptchaValue = this.recaptchaRef.current.getValue();\n\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\terror: !roll\n\t\t\t\t\t? \"Receiver's name is required.\"\n\t\t\t\t\t: !message.length\n\t\t\t\t\t? \"Message field is required\"\n\t\t\t\t\t: !recaptchaValue\n\t\t\t\t\t? \"Sorry, we are not taking response from robots yet!\"\n\t\t\t\t\t: \"\",\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tconst { error } = this.state;\n\t\t\t\tif (!error) {\n\t\t\t\t\tthis.setState({ loading: true }, () => {\n\t\t\t\t\t\taxios\n\t\t\t\t\t\t\t.post(`/add_post/`, data)\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tthis.clearForm();\n\t\t\t\t\t\t\t\tthis.setState({ completed: true });\n\t\t\t\t\t\t\t\tthis.props.history.push(\"?component=wall&roll=\" + roll);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\tthis.setState({ error: error?.message ?? error });\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.finally(() => this.setState({ loading: false }));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t};\n\n\tclearForm = () => {\n\t\tthis.setState({\n\t\t\troll: \"\",\n\t\t\tmessage: \"\",\n\t\t\terror: \"\",\n\t\t\tloading: false,\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { roll, error, message, loading, completed } = this.state;\n\t\tconst { yearbook } = this.props;\n\n\t\tif (loading)\n\t\t\treturn <Loader />\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{completed ? (\n\t\t\t\t\t<p className=\"preview-text\">\n\t\t\t\t\t\tYou have scribbled your farewell, leave the rest to us... 🥳\n\t\t\t\t\t</p>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"form-page\">\n\t\t\t\t\t\t<div id=\"form\">\n\t\t\t\t\t\t\t<div className=\"card\">\n\t\t\t\t\t\t\t\t<select id=\"roll\" value={roll} onChange={this.handleChange}>\n\t\t\t\t\t\t\t\t\t<option value=\"\" key=\"index\">\n\t\t\t\t\t\t\t\t\t\tChoose the Wall\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t{yearbook.map(({ roll, name, branch }) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<option value={roll} key={roll}>\n\t\t\t\t\t\t\t\t\t\t\t\t{name} {branch}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<div className=\"divider\" />\n\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tid=\"message\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tvalue={message}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Pour your heart out!\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<ReCAPTCHA\n\t\t\t\t\t\t\t\tsitekey=\"6LfJ0WMaAAAAAO9K5Lj8DrYFLfR2bAwav1-w_XQs\"\n\t\t\t\t\t\t\t\tonChange={this.recaptcha}\n\t\t\t\t\t\t\t\tref={this.recaptchaRef}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{error && <p id=\"error-para\">{error}</p>}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tid=\"submit\"\n\t\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\t\tonClick={this.submitPostData}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tPost\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button id=\"clear\" onClick={this.clearForm}>\n\t\t\t\t\t\t\t\t\tClear\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Preview {...this.state} />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<p className=\"preview-text\">\n\t\t\t\t\tFor assistance/queries reachout to{\" \"}\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"mailto:wellbeing@iitj.ac.in\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t>\n\t\t\t\t\t\tus\n\t\t\t\t\t</a>{\" \"}\n\t\t\t\t\tor mail{\" \"}\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"mailto:tawatia.1@iitj.ac.in\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t>\n\t\t\t\t\t\tdev\n\t\t\t\t\t</a>{\" \"}\n\t\t\t\t\tto report.\n\t\t\t\t</p>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default Form;\n","import React, { Component } from \"react\";\n\nclass Closed extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div id=\"timer\">\n\t\t\t\t<p>Thank you for participating in this scribble night 🥳</p>\n\t\t\t\t<h1>2536 💌</h1>\n\t\t\t\t<span>scribbles were recorded.</span>\n\t\t\t\t<p>\n\t\t\t\t\tAnd remember,\n\t\t\t\t\t<br />\n\t\t\t\t\tYou don't need to scribble to express the heavenly feeling of\n\t\t\t\t\tfarewell,\n\t\t\t\t\t<br /> so just go and make someone's day...\n\t\t\t\t</p>\n\t\t\t\t<img src=\"/images/girl-writing.jpg\" alt=\"Illustration\" />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Closed;\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { ArrowLeft } from \"react-feather\";\nimport Scribble from \"./ScribbleNote\";\nimport yearbook from \"../yearbook.json\";\nimport axios from \"../api\";\nimport \"./User.css\";\nimport Loader from \"./Loader\";\nimport { Link } from \"react-router-dom\";\n\nexport default function User() {\n\tconst [loading, setLoading] = useState(true);\n\tconst [user, setUser] = useState({});\n\tconst [data, setData] = useState([]);\n\n\tconst location = useLocation();\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tconst roll = new URLSearchParams(location.search.substr(1)).get(\"roll\");\n\t\tif (roll) {\n\t\t\tyearbook.forEach((entry) => {\n\t\t\t\tif (entry.roll === roll) setUser(entry);\n\t\t\t});\n\t\t\taxios\n\t\t\t\t.get(`/posts/`)\n\t\t\t\t.then(({ data }) => {\n\t\t\t\t\tif (data?.length) {\n\t\t\t\t\t\tsetData(data.filter((entry) => entry.roll === roll));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {})\n\t\t\t\t.finally(() => setLoading(false));\n\t\t}\n\t}, [location]);\n\tconst history = useHistory();\n\n\tif (loading) return <Loader />;\n\tconst { name, nickname, line, about, roll } = user;\n\treturn (\n\t\t<div className=\"wall\">\n\t\t\t<button\n\t\t\t\tonClick={() => {\n\t\t\t\t\thistory.push(\"?component=yearbook\");\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ArrowLeft size={24} />\n\t\t\t\tYearbook\n\t\t\t</button>\n\t\t\t<h1 style={{ marginTop: \"2rem\" }}>{name}</h1>\n\n\t\t\t<div className=\"yb-card\">\n\t\t\t\t<img\n\t\t\t\t\tsrc={`yb_photos/${roll}.jpg`}\n\t\t\t\t\talt=\"profile\"\n\t\t\t\t\tclassName=\"profile-picture\"\n\t\t\t\t\tonError={(event) => {\n\t\t\t\t\t\tevent.target.src = \"/images/avatar/missing.png\"\n\t\t\t\t\t\tevent.target.style = \"border-radius: 50%\";\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<div className=\"description\">\n\t\t\t\t\t<p className=\"nickname\">{nickname}.</p>\n\t\t\t\t\t<p className=\"quote\">{line}</p>\n\t\t\t\t\t<p className=\"about\">{about}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"divider\" />\n\t\t\t<h1>Wall 🧱</h1>\n\t\t\t<div className=\"holder\">\n\t\t\t\t{data.map((entry, index) => {\n\t\t\t\t\treturn <Scribble {...entry} key={`${entry.roll}#${index}`} />;\n\t\t\t\t})}\n\t\t\t</div>\n\t\t\t<p className=\"preview-text\">\n\t\t\t\tWrite a scribble on this wall\n\t\t\t\t<Link to={`?component=scribble&init_roll=${roll}`}> here!</Link>\n\t\t\t</p>\n\t\t\t<p className=\"preview-text\">\n\t\t\t\tFor assistance/queries reachout to{\" \"}\n\t\t\t\t<a href=\"mailto:wellbeing@iitj.ac.in\" target=\"_blank\" rel=\"noreferrer\">\n\t\t\t\t\tus\n\t\t\t\t</a>{\" \"}\n\t\t\t\tor mail{\" \"}\n\t\t\t\t<a href=\"mailto:tawatia.1@iitj.ac.in\" target=\"_blank\" rel=\"noreferrer\">\n\t\t\t\t\tdev\n\t\t\t\t</a>{\" \"}\n\t\t\t\tto report.\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n","import { useEffect, useState } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport \"./App.css\";\nimport Timer from \"./components/Timer\";\nimport Yearbook from \"./components/Yearbook\";\nimport Form from \"./components/Form\";\nimport Closed from \"./components/Closed\";\n\nimport User from \"./components/User\";\nimport { startdate, enddate } from \"./config\";\nimport yearbook from \"./yearbook.json\";\n\nfunction App() {\n\tconst [time, setTime] = useState(Date.now());\n\tuseEffect(() => {\n\t\tconst interval = setInterval(() => {\n\t\t\tsetTime(Date.now());\n\t\t}, 1000);\n\t\treturn () => clearInterval(interval);\n\t}, []);\n\n\tconst [component, setComponent] = useState(null);\n\tconst location = useLocation();\n\tuseEffect(() => {\n\t\tconst component = new URLSearchParams(location.search.substr(1)).get(\n\t\t\t\"component\"\n\t\t);\n\t\tsetComponent(component);\n\t}, [location]);\n\tconst [page, setPage] = useState(0);\n\n\tconst history = useHistory();\n\tuseEffect(() => {\n\t\twindow.scrollTo(0, 0);\n\t}, [location, page]);\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t{component === \"wall\" ? (\n\t\t\t\t<User />\n\t\t\t) : component === \"scribble\" ? (\n\t\t\t\t<>\n\t\t\t\t\t<h1 style={{ color: \"#00000095\" }}>Scribble!</h1>\n\t\t\t\t\t{time < Date.parse(startdate) ? (\n\t\t\t\t\t\t<Timer />\n\t\t\t\t\t) : time > Date.parse(enddate) ? (\n\t\t\t\t\t\t<Closed />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Form yearbook={yearbook} history={history} />\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<Yearbook page={page} setPage={setPage} />\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Router>\n\t\t\t<App />\n\t\t</Router>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}