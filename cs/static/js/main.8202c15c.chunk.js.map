{"version":3,"sources":["config.js","components/Timer.js","api/index.js","components/Loader.js","components/Yearbook.js","components/ScribbleNote.js","components/Preview.js","components/Form.js","components/Closed.js","components/User.js","App.js","index.js"],"names":["module","exports","startdate","enddate","Timer","state","now","Math","trunc","Date","getTime","parse","this","dateInMilliseconds","window","setInterval","setState","id","days","hours","minutes","seconds","src","alt","Component","instance","axios","create","baseURL","Loader","style","margin","class","User","page","setPage","useState","loading","setLoading","freq","setFreq","location","useLocation","useEffect","get","then","data","length","forEach","roll","catch","alert","finally","history","useHistory","totalPages","ceil","yearbook","marginBottom","className","map","index","quote","name","nickname","line","lowerIndex","onClick","push","substr","limit","to","disabled","Scribble","message","random","rotation","Preview","rest","Form","handleChange","event","target","value","submitPostData","a","recaptchaValue","recaptchaRef","current","getValue","error","post","clearForm","completed","props","URLSearchParams","search","hiddenFileInput","React","createRef","onChange","branch","type","autoComplete","placeholder","sitekey","recaptcha","ref","href","rel","Closed","user","setUser","setData","entry","filter","about","size","App","time","setTime","interval","clearInterval","component","setComponent","color","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8202c15c.chunk.js","sourcesContent":["module.exports = {\n  startdate : \"2021-05-22 18:00:00\",\n  enddate : \"2021-05-26 18:00:00\",\n}","import React, { Component } from \"react\";\nimport { startdate } from \"../config\";\nclass Timer extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tnow: Math.trunc(new Date().getTime() / 1000),\n\t\t};\n\t}\n\n\tdateInMilliseconds() {\n\t\treturn Math.trunc(Date.parse(startdate) / 1000);\n\t}\n\tseconds() {\n\t\treturn (this.dateInMilliseconds() - this.state.now) % 60;\n\t}\n\tminutes() {\n\t\treturn Math.trunc((this.dateInMilliseconds() - this.state.now) / 60) % 60;\n\t}\n\thours() {\n\t\treturn (\n\t\t\tMath.trunc((this.dateInMilliseconds() - this.state.now) / 60 / 60) % 24\n\t\t);\n\t}\n\tdays() {\n\t\treturn Math.trunc(\n\t\t\t(this.dateInMilliseconds() - this.state.now) / 60 / 60 / 24\n\t\t);\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.setInterval(() => {\n\t\t\tthis.setState({ now: Math.trunc(new Date().getTime() / 1000) });\n\t\t}, 1000);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div id=\"timer\">\n\t\t\t\t<p>We open in</p>\n\t\t\t\t<h1>\n\t\t\t\t\t{this.days() ? this.days() + \" d :\" : \"\"} {this.hours()} h :{\" \"}\n\t\t\t\t\t{this.minutes()} m : {this.seconds()} s\n\t\t\t\t</h1>\n\t\t\t\t<p>\n\t\t\t\t\tMeanwhile, just hold the thought, or even better...pen it down maybe?{\" \"}\n\t\t\t\t\t<br />\n\t\t\t\t\tThe more cheesy, the better you make the other person feel :P\n\t\t\t\t</p>\n\t\t\t\t<img src=\"/images/girl-writing.jpg\" alt=\"Illustration\" />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Timer;\n","import axios from \"axios\";\n\nexport const BACKEND =\n\tprocess.env.NODE_ENV === \"development\"\n\t\t? \"http://localhost:8000\"\n\t\t: \"http://35.193.72.125:8000\";\n\nconst instance = axios.create({\n\tbaseURL: `${BACKEND}/api`,\n});\n\nexport default instance;\n","import React from \"react\";\nimport \"./Loading.css\";\n\nexport default function Loader() {\n\treturn (\n\t\t<div style={{ margin: \"5rem\" }}>\n\t\t\t<div class=\"lds-ring\">\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport yearbook from \"../yearbook.json\";\nimport axios from \"../api\";\nimport \"./Yearbook.css\";\nimport Loader from \"./Loader\";\n\nfunction shortenQuote(quote) {\n\tconst limit = 200;\n\tif (quote.length > limit) return quote.substr(0, limit - 3) + \"...\";\n\treturn quote;\n}\n\nexport default function User({ page, setPage }) {\n\tconst [loading, setLoading] = useState(false);\n\tconst [freq, setFreq] = useState([]);\n\n\tconst location = useLocation();\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\taxios\n\t\t\t.get(`/posts`)\n\t\t\t.then(({ data }) => {\n\t\t\t\tif (data?.length) {\n\t\t\t\t\tconst freq = {};\n\t\t\t\t\tdata.forEach(({ roll }) => {\n\t\t\t\t\t\tif (roll in freq) freq[roll] += 1;\n\t\t\t\t\t\telse freq[roll] = 1;\n\t\t\t\t\t});\n\t\t\t\t\tsetFreq(freq);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(alert)\n\t\t\t.finally(() => setLoading(false));\n\t}, [location]);\n\tconst history = useHistory();\n\n\tconst pageSize = 8;\n\tconst totalPages = Math.ceil(yearbook.length / pageSize);\n\n\tif (loading)\n\t\treturn (\n\t\t\t<div id=\"yearbook\">\n\t\t\t\t<h1 style={{ marginBottom: \"3rem\" }}>Yearbook 2021 📖</h1>\n\t\t\t\t<Loader />\n\t\t\t</div>\n\t\t);\n\treturn (\n\t\t<div id=\"yearbook\">\n\t\t\t<h1 style={{ marginBottom: \"3rem\" }}>Yearbook 2021 📖</h1>\n\t\t\t<div className=\"holder\">\n\t\t\t\t{yearbook.map(({ roll, name, nickname, line }, index) => {\n\t\t\t\t\tconst lowerIndex = pageSize * page;\n\t\t\t\t\tconst upperIndex = lowerIndex + pageSize;\n\t\t\t\t\tif (lowerIndex <= index && index < upperIndex)\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"yb-card\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thistory.push(`?component=wall&roll=${roll}`);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{/* <a className=\"yb-card\" href={`?component=wall&roll=${roll}`}> */}\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={`yb_photos_400/${roll}.jpg`}\n\t\t\t\t\t\t\t\t\talt=\"profile\"\n\t\t\t\t\t\t\t\t\tclassName=\"profile-picture\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<p className=\"name\">{name}</p>\n\t\t\t\t\t\t\t\t<p className=\"nickname\">{nickname}.</p>\n\t\t\t\t\t\t\t\t<p className=\"quote\">{shortenQuote(line)}</p>\n\t\t\t\t\t\t\t\t{freq[roll] && <p>{freq[roll] ?? 0} 📝</p>}\n\t\t\t\t\t\t\t\t<span className=\"tooltiptext\">Go to {roll}'s wall</span>\n\t\t\t\t\t\t\t\t{/* </a> */}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\treturn null;\n\t\t\t\t})}\n\t\t\t</div>\n\t\t\t<p className=\"preview-text\">\n\t\t\t\tWrite a scribble on their walls{\" \"}\n\t\t\t\t<Link  to={`?component=scribble`}> here!</Link>\n\t\t\t</p>\n\t\t\t<div className=\"pagination\">\n\t\t\t\t<button onClick={() => setPage(page - 1)} disabled={page === 0}>\n\t\t\t\t\tPrev\n\t\t\t\t</button>\n\t\t\t\t<p>{page + 1}</p>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => setPage(page + 1)}\n\t\t\t\t\tdisabled={page === totalPages - 1}\n\t\t\t\t>\n\t\t\t\t\tNext\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { useState } from \"react\";\nimport \"./ScribbleNote.css\";\n\nexport default function Scribble({ message }) {\n const [rotation] = useState(Math.ceil(Math.random() * 12) - 6);\n\treturn (\n\t\t<div className=\"note-container\">\n\t\t\t<div className={`note note-rotation-${rotation}`}>\n\t\t\t\t<div className=\"note-header\" />\n\t\t\t\t<p className=\"text\">{message}</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport Scribble from \"./ScribbleNote\";\nimport \"./ScribbleNote.css\";\n\nexport default function Preview({ roll, ...rest }) {\n\treturn (\n\t\t<div class=\"preview\">\n\t\t\t<Scribble {...rest} />\n\t\t\t<p className=\"preview-text\">\n\t\t\t\tPreview <br />\n\t\t\t\tThis is how {roll ? roll + \"'s\" : \"his/her\"} wall will receive the\n\t\t\t\tscribble...🙈\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n","import React, { Component } from \"react\";\nimport ReCAPTCHA from \"react-google-recaptcha\";\n\nimport Preview from \"./Preview\";\nimport axios from \"../api\";\n\nclass Form extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\troll:\n\t\t\t\tnew URLSearchParams(window.location.search.substr(1)).get(\n\t\t\t\t\t\"init_roll\"\n\t\t\t\t) ?? \"\",\n\t\t\tmessage: \"\",\n\t\t\terror: \"\",\n\t\t\tloading: false,\n\t\t};\n\t\tthis.hiddenFileInput = React.createRef(null);\n\t\tthis.recaptchaRef = React.createRef(null);\n\t}\n\n\thandleChange = (event) => {\n\t\tthis.setState({ [event.target.id]: event.target.value });\n\t};\n\n\tsubmitPostData = async () => {\n\t\tconst { message, roll } = this.state;\n\t\tconst data = { message, roll };\n\t\tconst recaptchaValue = this.recaptchaRef.current.getValue();\n\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\terror: !roll\n\t\t\t\t\t? \"Receiver's name is required.\"\n\t\t\t\t\t: !message.length\n\t\t\t\t\t? \"Message field is required\"\n\t\t\t\t\t: !recaptchaValue\n\t\t\t\t\t? \"Sorry, we are not taking response from robots yet!\"\n\t\t\t\t\t: \"\",\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tconst { error } = this.state;\n\t\t\t\tif (!error) {\n\t\t\t\t\tthis.setState({ loading: true }, () => {\n\t\t\t\t\t\taxios\n\t\t\t\t\t\t\t.post(`/add_post/`, data)\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tthis.clearForm();\n\t\t\t\t\t\t\t\tthis.setState({ completed: true });\n\t\t\t\t\t\t\t\tthis.props.history.push(\"?component=wall&roll=\" + roll);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\tthis.setState({ error: error?.message ?? error });\n\t\t\t\t\t\t\t\talert(error);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.finally(() => this.setState({ loading: false }));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t};\n\n\tclearForm = () => {\n\t\tthis.setState({\n\t\t\troll: \"\",\n\t\t\tmessage: \"\",\n\t\t\terror: \"\",\n\t\t\tloading: false,\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { roll, error, message, loading, completed } = this.state;\n\t\tconst { yearbook } = this.props;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{completed ? (\n\t\t\t\t\t<p className=\"preview-text\">\n\t\t\t\t\t\tYou have scribbled your farewell, leave the rest to us... 🥳\n\t\t\t\t\t</p>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"form-page\">\n\t\t\t\t\t\t<div id=\"form\">\n\t\t\t\t\t\t\t<div className=\"card\">\n\t\t\t\t\t\t\t\t<select id=\"roll\" value={roll} onChange={this.handleChange}>\n\t\t\t\t\t\t\t\t\t<option value=\"\">Choose the Wall</option>\n\t\t\t\t\t\t\t\t\t{yearbook.map(({ roll, name, branch }) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<option value={roll}>\n\t\t\t\t\t\t\t\t\t\t\t\t{name} {branch}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<div className=\"divider\" />\n\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tid=\"message\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tvalue={message}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Pour your heart out!\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<ReCAPTCHA\n\t\t\t\t\t\t\t\tsitekey=\"6LfJ0WMaAAAAAO9K5Lj8DrYFLfR2bAwav1-w_XQs\"\n\t\t\t\t\t\t\t\tonChange={this.recaptcha}\n\t\t\t\t\t\t\t\tref={this.recaptchaRef}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{error && <p id=\"error-para\">{error}</p>}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tid=\"submit\"\n\t\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\t\tonClick={this.submitPostData}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tPost\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button id=\"clear\" onClick={this.clearForm}>\n\t\t\t\t\t\t\t\t\tClear\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Preview {...this.state} />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<p className=\"preview-text\">\n\t\t\t\t\tFor assistance/queries reachout to{\" \"}\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"mailto:wellbeing@iitj.ac.in\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t>\n\t\t\t\t\t\tus\n\t\t\t\t\t</a>{\" \"}\n\t\t\t\t\tor mail{\" \"}\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"mailto:tawatia.1@iitj.ac.in\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t>\n\t\t\t\t\t\tdev\n\t\t\t\t\t</a>{\" \"}\n\t\t\t\t\tto report.\n\t\t\t\t</p>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default Form;\n","import React, { Component } from \"react\";\n\nclass Closed extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div id=\"timer\">\n\t\t\t\t<p>Thank you for participating in this scribble night 🥳</p>\n\t\t\t\t<h1>2536 💌</h1>\n\t\t\t\t<span>scribbles were recorded.</span>\n\t\t\t\t<p>\n\t\t\t\t\tAnd remember,\n\t\t\t\t\t<br />\n\t\t\t\t\tYou don't need to scribble to express the heavenly feeling of\n\t\t\t\t\tfarewell,\n\t\t\t\t\t<br /> so just go and make someone's day...\n\t\t\t\t</p>\n\t\t\t\t<img src=\"/images/girl-writing.jpg\" alt=\"Illustration\" />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Closed;\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { ArrowLeft } from \"react-feather\";\nimport Scribble from \"./ScribbleNote\";\nimport yearbook from \"../yearbook.json\";\nimport axios from \"../api\";\nimport \"./User.css\";\nimport Loader from \"./Loader\";\nimport { Link } from \"react-router-dom\";\n\nexport default function User() {\n\tconst [loading, setLoading] = useState(true);\n\tconst [user, setUser] = useState({});\n\tconst [data, setData] = useState([]);\n\n\tconst location = useLocation();\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tconst roll = new URLSearchParams(location.search.substr(1)).get(\"roll\");\n\t\tyearbook.forEach((entry) => {\n\t\t\tif (entry.roll === roll) setUser(entry);\n\t\t});\n\t\taxios\n\t\t\t.get(`/posts`)\n\t\t\t.then(({ data }) => {\n\t\t\t\tif (data?.length) {\n\t\t\t\t\tsetData(data.filter((entry) => entry.roll === roll));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(alert)\n\t\t\t.finally(() => setLoading(false));\n\t}, [location]);\n\tconst history = useHistory();\n\n\tif (loading) return <Loader />;\n\tconst { name, nickname, line, about, roll } = user;\n\treturn (\n\t\t<div className=\"wall\">\n\t\t\t<button\n\t\t\t\tonClick={() => {\n\t\t\t\t\thistory.push(\"?component=yearbook\");\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ArrowLeft size={24} />\n\t\t\t\tYearbook\n\t\t\t</button>\n\t\t\t<h1>{name}</h1>\n\n\t\t\t<div className=\"yb-card\">\n\t\t\t\t<img\n\t\t\t\t\tsrc={`yb_photos/${roll}.jpg`}\n\t\t\t\t\talt=\"profile\"\n\t\t\t\t\tclassName=\"profile-picture\"\n\t\t\t\t/>\n\t\t\t\t<div className=\"description\">\n\t\t\t\t\t<p className=\"nickname\">{nickname}.</p>\n\t\t\t\t\t<p className=\"quote\">{line}</p>\n\t\t\t\t\t<p className=\"about\">{about}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"divider\" />\n\t\t\t<h1>Wall 🧱</h1>\n\t\t\t<div className=\"holder\">\n\t\t\t\t{data.map((entry) => {\n\t\t\t\t\treturn <Scribble {...entry} />;\n\t\t\t\t})}\n\t\t\t</div>\n\t\t\t<p className=\"preview-text\">\n\t\t\t\tWrite a scribble on this wall\n\t\t\t\t<Link to={`?component=scribble&init_roll=${roll}`}> here!</Link>\n\t\t\t</p>\n\t\t\t<p className=\"preview-text\">\n\t\t\t\tFor assistance/queries reachout to{\" \"}\n\t\t\t\t<a href=\"mailto:wellbeing@iitj.ac.in\" target=\"_blank\" rel=\"noreferrer\">\n\t\t\t\t\tus\n\t\t\t\t</a>{\" \"}\n\t\t\t\tor mail{\" \"}\n\t\t\t\t<a href=\"mailto:tawatia.1@iitj.ac.in\" target=\"_blank\" rel=\"noreferrer\">\n\t\t\t\t\tdev\n\t\t\t\t</a>{\" \"}\n\t\t\t\tto report.\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n","import { useEffect, useState } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport \"./App.css\";\nimport Timer from \"./components/Timer\";\nimport Yearbook from \"./components/Yearbook\";\nimport Form from \"./components/Form\";\nimport Closed from \"./components/Closed\";\n\nimport User from \"./components/User\";\nimport { startdate, enddate } from \"./config\";\nimport yearbook from \"./yearbook.json\";\n\nfunction App() {\n\tconst [time, setTime] = useState(Date.now());\n\tuseEffect(() => {\n\t\tconst interval = setInterval(() => {\n\t\t\tsetTime(Date.now());\n\t\t}, 1000);\n\t\treturn () => clearInterval(interval);\n\t}, []);\n\n\tconst [component, setComponent] = useState(null);\n\tconst location = useLocation();\n\tuseEffect(() => {\n\t\tconst component = new URLSearchParams(location.search.substr(1)).get(\n\t\t\t\"component\"\n\t\t);\n\t\tsetComponent(component);\n\t}, [location]);\n\tconst [page, setPage] = useState(0);\n\n\tconst history = useHistory();\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t{component === \"wall\" ? (\n\t\t\t\t<User />\n\t\t\t) : component === \"scribble\" ? (\n\t\t\t\t<>\n\t\t\t\t\t<h1 style={{ color: \"#00000095\" }}>Scribble!</h1>\n\t\t\t\t\t{time < Date.parse(startdate) ? (\n\t\t\t\t\t\t<Timer />\n\t\t\t\t\t) : time > Date.parse(enddate) ? (\n\t\t\t\t\t\t<Closed />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Form yearbook={yearbook} history={history} />\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<Yearbook page={page} setPage={setPage} />\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Router>\n\t\t\t<App />\n\t\t</Router>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}