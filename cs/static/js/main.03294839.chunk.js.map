{"version":3,"sources":["config.js","components/Timer.js","api/index.js","components/Loader.js","components/Yearbook.js","components/ScribbleNote.js","components/Preview.js","components/Form.js","components/Closed.js","components/User.js","App.js","index.js"],"names":["module","exports","startdate","enddate","Timer","state","now","Math","trunc","Date","getTime","parse","this","dateInMilliseconds","window","setInterval","setState","id","days","hours","minutes","seconds","src","alt","Component","instance","axios","create","baseURL","Loader","style","margin","class","User","useState","loading","setLoading","freq","setFreq","location","useLocation","useEffect","get","then","data","length","forEach","roll","catch","alert","finally","totalPages","ceil","yearbook","page","setPage","marginBottom","className","map","index","quote","name","nickname","line","lowerIndex","href","substr","limit","onClick","disabled","Scribble","message","random","rotation","Preview","rest","Form","handleChange","event","target","value","submitPostData","a","recaptchaValue","recaptchaRef","current","getValue","error","post","clearForm","completed","URLSearchParams","search","hiddenFileInput","React","createRef","props","onChange","branch","type","autoComplete","placeholder","sitekey","recaptcha","ref","rel","Closed","user","setUser","setData","entry","filter","about","App","time","setTime","interval","clearInterval","component","setComponent","color","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sGAAAA,EAAOC,QAAU,CACfC,UAAY,sBACZC,QAAU,wB,iQCqDGC,E,kDApDd,aAAe,IAAD,8BACb,gBACKC,MAAQ,CACZC,IAAKC,KAAKC,OAAM,IAAIC,MAAOC,UAAY,MAH3B,E,sDAOd,WACC,OAAOH,KAAKC,MAAMC,KAAKE,MAAMT,aAAa,O,qBAE3C,WACC,OAAQU,KAAKC,qBAAuBD,KAAKP,MAAMC,KAAO,K,qBAEvD,WACC,OAAOC,KAAKC,OAAOI,KAAKC,qBAAuBD,KAAKP,MAAMC,KAAO,IAAM,K,mBAExE,WACC,OACCC,KAAKC,OAAOI,KAAKC,qBAAuBD,KAAKP,MAAMC,KAAO,GAAK,IAAM,K,kBAGvE,WACC,OAAOC,KAAKC,OACVI,KAAKC,qBAAuBD,KAAKP,MAAMC,KAAO,GAAK,GAAK,M,+BAI3D,WAAqB,IAAD,OACnBQ,OAAOC,aAAY,WAClB,EAAKC,SAAS,CAAEV,IAAKC,KAAKC,OAAM,IAAIC,MAAOC,UAAY,SACrD,O,oBAGJ,WACC,OACC,sBAAKO,GAAG,QAAR,UACC,2CACA,+BACEL,KAAKM,OAASN,KAAKM,OAAS,OAAS,GADvC,IAC4CN,KAAKO,QADjD,OAC8D,IAC5DP,KAAKQ,UAFP,QAEuBR,KAAKS,UAF5B,QAIA,sGACuE,IACtE,uBAFD,mEAKA,qBAAKC,IAAI,2BAA2BC,IAAI,wB,GA/CxBC,a,eCSLC,E,OAJEC,EAAMC,OAAO,CAC7BC,QAAQ,GAAD,OAHJ,4BAGI,U,YCLO,SAASC,IACvB,OACC,qBAAKC,MAAO,CAAEC,OAAQ,QAAtB,SACC,sBAAKC,MAAM,WAAX,UACC,wBACA,wBACA,wBACA,6BCGW,SAASC,IAAQ,IAAD,EACAC,oBAAS,GADT,mBACvBC,EADuB,KACdC,EADc,OAENF,mBAAS,IAFH,mBAEvBG,EAFuB,KAEjBC,EAFiB,KAIxBC,EAAWC,cAEjBC,qBAAU,WACTL,GAAW,GACXV,EACEgB,IADF,UAEEC,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACR,UAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAMC,OAAQ,CACjB,IAAMR,EAAO,GACbO,EAAKE,SAAQ,YAAe,IAAZC,EAAW,EAAXA,KACXA,KAAQV,EAAMA,EAAKU,IAAS,EAC3BV,EAAKU,GAAQ,KAEnBT,EAAQD,OAGTW,MAAMC,OACNC,SAAQ,kBAAMd,GAAW,QACzB,CAACG,IAEJ,IACMY,EAAa5C,KAAK6C,KAAKC,EAASR,OADrB,GAxBa,EA0BNX,mBAAS,GA1BH,mBA0BvBoB,EA1BuB,KA0BjBC,EA1BiB,KA4B9B,OAAIpB,EAEF,sBAAKlB,GAAG,WAAR,UACC,oBAAIa,MAAO,CAAE0B,aAAc,QAA3B,wCACA,cAAC3B,EAAD,OAIF,sBAAKZ,GAAG,WAAR,UACC,oBAAIa,MAAO,CAAE0B,aAAc,QAA3B,wCACA,qBAAKC,UAAU,SAAf,SACEJ,EAASK,KAAI,WAAiCC,GAAW,IAAD,EA7CvCC,EA6CDb,EAAwC,EAAxCA,KAAMc,EAAkC,EAAlCA,KAAMC,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,KAChCC,EAhBO,EAgBiBV,EAE9B,OAAIU,GAAcL,GAASA,EADRK,EAjBN,EAuBX,cAHA,CAGA,KAAGP,UAAU,UAAUQ,KAAI,+BAA0BlB,GAArD,UACC,qBACCzB,IAAG,wBAAmByB,EAAnB,QACHxB,IAAI,UACJkC,UAAU,oBAEX,mBAAGA,UAAU,OAAb,SAAqBI,IACrB,oBAAGJ,UAAU,WAAb,UAAyBK,EAAzB,OACA,mBAAGL,UAAU,QAAb,UA7DcG,EA6DqBG,EA3DtCH,EAAMf,OADI,IACmBe,EAAMM,OAAO,EAAGC,KAAa,MACvDP,KA2DCvB,EAAKU,IAAS,wCAAIV,EAAKU,UAAT,QAAkB,EAAlB,mBACf,uBAAMU,UAAU,cAAhB,mBAAqCV,EAArC,gBAII,UAGT,oBAAGU,UAAU,eAAb,4CACiC,IAChC,mBAAGQ,KAAI,sBAAP,uBAED,sBAAKR,UAAU,aAAf,UACC,wBAAQW,QAAS,kBAAMb,EAAQD,EAAO,IAAIe,SAAmB,IAATf,EAApD,kBAGA,4BAAIA,EAAO,IACX,wBACCc,QAAS,kBAAMb,EAAQD,EAAO,IAC9Be,SAAUf,IAASH,EAAa,EAFjC,wB,mECnFW,SAASmB,EAAT,GAAgC,IAAZC,EAAW,EAAXA,QAAW,EAC1BrC,mBAAS3B,KAAK6C,KAAqB,GAAhB7C,KAAKiE,UAAiB,GAArDC,EADsC,oBAE7C,OACC,qBAAKhB,UAAU,iBAAf,SACC,sBAAKA,UAAS,6BAAwBgB,GAAtC,UACC,qBAAKhB,UAAU,gBACf,mBAAGA,UAAU,OAAb,SAAqBc,SCLV,SAASG,EAAT,GAAqC,IAAlB3B,EAAiB,EAAjBA,KAAS4B,EAAQ,wBAClD,OACC,sBAAK3C,MAAM,UAAX,UACC,cAACsC,EAAD,eAAcK,IACd,oBAAGlB,UAAU,eAAb,qBACS,uBADT,eAEcV,EAAOA,EAAO,KAAO,UAFnC,uD,ICgJY6B,E,kDAjJd,aAAe,IAAD,gCACb,gBAcDC,aAAe,SAACC,GACf,EAAK9D,SAAL,eAAiB8D,EAAMC,OAAO9D,GAAK6D,EAAMC,OAAOC,SAhBnC,EAmBdC,eAnBc,sBAmBG,oCAAAC,EAAA,wDACU,EAAK7E,MAAvBkE,EADQ,EACRA,QAASxB,EADD,EACCA,KACXH,EAAO,CAAE2B,UAASxB,QAClBoC,EAAiB,EAAKC,aAAaC,QAAQC,WAEjD,EAAKtE,SACJ,CACCuE,MAAQxC,EAEJwB,EAAQ1B,OAERsC,EAED,GADA,qDAFA,4BAFA,iCAOJ,WACmB,EAAK9E,MAAfkF,OAEP,EAAKvE,SAAS,CAAEmB,SAAS,IAAQ,WAChCT,EACE8D,KADF,aACqB5C,GACnBD,MAAK,WACL,EAAK8C,YACL,EAAKzE,SAAS,CAAE0E,WAAW,IAC3B5E,OAAOyB,SAAS0B,KAAO,wBAA0BlB,KAEjDC,OAAM,SAACuC,GAAW,IAAD,EACjB,EAAKvE,SAAS,CAAEuE,MAAK,iBAAEA,QAAF,IAAEA,OAAF,EAAEA,EAAOhB,eAAT,QAAoBgB,IACzCtC,MAAMsC,MAENrC,SAAQ,kBAAM,EAAKlC,SAAS,CAAEmB,SAAS,aA9B7B,2CAnBH,EAwDdsD,UAAY,WACX,EAAKzE,SAAS,CACb+B,KAAM,GACNwB,QAAS,GACTgB,MAAO,GACPpD,SAAS,KA3DV,EAAK9B,MAAQ,CACZ0C,KAAI,UACH,IAAI4C,gBAAgB7E,OAAOyB,SAASqD,OAAO1B,OAAO,IAAIxB,IACrD,oBAFE,QAGE,GACN6B,QAAS,GACTgB,MAAO,GACPpD,SAAS,GAEV,EAAK0D,gBAAkBC,IAAMC,UAAU,MACvC,EAAKX,aAAeU,IAAMC,UAAU,MAZvB,E,0CAiEd,WAAU,IAAD,EAC6CnF,KAAKP,MAAlD0C,EADA,EACAA,KAAMwC,EADN,EACMA,MAAOhB,EADb,EACaA,QAASpC,EADtB,EACsBA,QAASuD,EAD/B,EAC+BA,UAC/BrC,EAAazC,KAAKoF,MAAlB3C,SAER,OACC,qCACEqC,EACA,mBAAGjC,UAAU,eAAb,oFAIA,sBAAKA,UAAU,YAAf,UACC,sBAAKxC,GAAG,OAAR,UACC,sBAAKwC,UAAU,OAAf,UACC,yBAAQxC,GAAG,OAAO+D,MAAOjC,EAAMkD,SAAUrF,KAAKiE,aAA9C,UACC,wBAAQG,MAAM,GAAd,6BACC3B,EAASK,KAAI,YAA6B,IAA1BX,EAAyB,EAAzBA,KAAMc,EAAmB,EAAnBA,KAAMqC,EAAa,EAAbA,OAC5B,OACC,yBAAQlB,MAAOjC,EAAf,UACEc,EADF,IACSqC,WAKZ,qBAAKzC,UAAU,YACf,0BACC0C,KAAK,OACLlF,GAAG,UACHmF,aAAa,MACbpB,MAAOT,EACP0B,SAAUrF,KAAKiE,aACfwB,YAAY,4BAGd,cAAC,IAAD,CACCC,QAAQ,2CACRL,SAAUrF,KAAK2F,UACfC,IAAK5F,KAAKwE,eAEVG,GAAS,mBAAGtE,GAAG,aAAN,SAAoBsE,IAC9B,gCACC,wBACCtE,GAAG,SACHoD,SAAUlC,EACViC,QAASxD,KAAKqE,eAHf,kBAOA,wBAAQhE,GAAG,QAAQmD,QAASxD,KAAK6E,UAAjC,yBAKF,cAACf,EAAD,eAAa9D,KAAKP,WAGpB,oBAAGoD,UAAU,eAAb,+CACoC,IACnC,mBACCQ,KAAK,8BACLc,OAAO,SACP0B,IAAI,aAHL,gBAOC,IATF,UASc,IACb,mBACCxC,KAAK,8BACLc,OAAO,SACP0B,IAAI,aAHL,iBAOC,IAjBF,uB,GA1HejF,aCgBJkF,E,4JAnBd,WACC,OACC,sBAAKzF,GAAG,QAAR,UACC,gGACA,mDACA,4DACA,8CAEC,uBAFD,0EAKC,uBALD,2CAOA,qBAAKK,IAAI,2BAA2BC,IAAI,wB,GAdvBC,a,MCMN,SAASS,IAAQ,IAAD,EACAC,oBAAS,GADT,mBACvBC,EADuB,KACdC,EADc,OAENF,mBAAS,IAFH,mBAEvByE,EAFuB,KAEjBC,EAFiB,OAGN1E,mBAAS,IAHH,mBAGvBU,EAHuB,KAGjBiE,EAHiB,KAKxBtE,EAAWC,cAkBjB,GAjBAC,qBAAU,WACTL,GAAW,GACX,IAAMW,EAAO,IAAI4C,gBAAgBpD,EAASqD,OAAO1B,OAAO,IAAIxB,IAAI,QAChEW,EAASP,SAAQ,SAACgE,GACbA,EAAM/D,OAASA,GAAM6D,EAAQE,MAElCpF,EACEgB,IADF,UAEEC,MAAK,YAAe,IAAZC,EAAW,EAAXA,MACR,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAMC,SACTgE,EAAQjE,EAAKmE,QAAO,SAACD,GAAD,OAAWA,EAAM/D,OAASA,SAG/CC,MAAMC,OACNC,SAAQ,kBAAMd,GAAW,QACzB,CAACG,IAEAJ,EAAS,OAAO,cAACN,EAAD,IAvBU,IAwBtBgC,EAAsC8C,EAAtC9C,KAAMC,EAAgC6C,EAAhC7C,SAAUC,EAAsB4C,EAAtB5C,KAAMiD,EAAgBL,EAAhBK,MAAOjE,EAAS4D,EAAT5D,KACrC,OACC,sBAAKU,UAAU,OAAf,UACC,6BAAKI,IACL,sBAAKJ,UAAU,UAAf,UACC,qBACCnC,IAAG,oBAAeyB,EAAf,QACHxB,IAAI,UACJkC,UAAU,oBAEX,sBAAKA,UAAU,cAAf,UACC,oBAAGA,UAAU,WAAb,UAAyBK,EAAzB,OACA,mBAAGL,UAAU,QAAb,SAAsBM,IACtB,mBAAGN,UAAU,QAAb,SAAsBuD,UAGxB,qBAAKvD,UAAU,YACf,mDACA,qBAAKA,UAAU,SAAf,SACEb,EAAKc,KAAI,SAACoD,GACV,OAAO,cAACxC,EAAD,eAAcwC,SAGvB,oBAAGrD,UAAU,eAAb,0CAEC,mBAAGQ,KAAI,wCAAmClB,GAA1C,uBAEA,oBAAGU,UAAU,eAAb,+CACoC,IACnC,mBACCQ,KAAK,8BACLc,OAAO,SACP0B,IAAI,aAHL,gBAOC,IATF,UASc,IACb,mBACCxC,KAAK,8BACLc,OAAO,SACP0B,IAAI,aAHL,iBAOC,IAjBF,mBCPWQ,MAxCf,WAAgB,IAAD,EACU/E,mBAASzB,KAAKH,OADxB,mBACP4G,EADO,KACDC,EADC,KAEd1E,qBAAU,WACT,IAAM2E,EAAWrG,aAAY,WAC5BoG,EAAQ1G,KAAKH,SACX,KACH,OAAO,kBAAM+G,cAAcD,MACzB,IAPW,MASoBlF,mBAAS,MAT7B,mBASPoF,EATO,KASIC,EATJ,KAURhF,EAAWC,cAQjB,OAPAC,qBAAU,WACT,IAAM6E,EAAY,IAAI3B,gBAAgBpD,EAASqD,OAAO1B,OAAO,IAAIxB,IAChE,aAED6E,EAAaD,KACX,CAAC/E,IAGH,qBAAKkB,UAAU,MAAf,SACgB,SAAd6D,EACA,cAAC,EAAD,IACiB,aAAdA,EACH,qCACC,oBAAIxF,MAAO,CAAE0F,MAAO,aAApB,uBACCN,EAAOzG,KAAKE,MAAMT,aAClB,cAAC,EAAD,IACGgH,EAAOzG,KAAKE,MAAMR,WACrB,cAAC,EAAD,IAEA,cAAC,EAAD,CAAMkD,SAAUA,OAIlB,cAAC,EAAD,OCzCJoE,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,IAAD,UACC,cAAC,EAAD,QAGFC,SAASC,eAAe,U","file":"static/js/main.03294839.chunk.js","sourcesContent":["module.exports = {\n  startdate : \"2021-05-22 18:00:00\",\n  enddate : \"2021-05-26 18:00:00\",\n}","import React, { Component } from \"react\";\nimport { startdate } from \"../config\";\nclass Timer extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tnow: Math.trunc(new Date().getTime() / 1000),\n\t\t};\n\t}\n\n\tdateInMilliseconds() {\n\t\treturn Math.trunc(Date.parse(startdate) / 1000);\n\t}\n\tseconds() {\n\t\treturn (this.dateInMilliseconds() - this.state.now) % 60;\n\t}\n\tminutes() {\n\t\treturn Math.trunc((this.dateInMilliseconds() - this.state.now) / 60) % 60;\n\t}\n\thours() {\n\t\treturn (\n\t\t\tMath.trunc((this.dateInMilliseconds() - this.state.now) / 60 / 60) % 24\n\t\t);\n\t}\n\tdays() {\n\t\treturn Math.trunc(\n\t\t\t(this.dateInMilliseconds() - this.state.now) / 60 / 60 / 24\n\t\t);\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.setInterval(() => {\n\t\t\tthis.setState({ now: Math.trunc(new Date().getTime() / 1000) });\n\t\t}, 1000);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div id=\"timer\">\n\t\t\t\t<p>We open in</p>\n\t\t\t\t<h1>\n\t\t\t\t\t{this.days() ? this.days() + \" d :\" : \"\"} {this.hours()} h :{\" \"}\n\t\t\t\t\t{this.minutes()} m : {this.seconds()} s\n\t\t\t\t</h1>\n\t\t\t\t<p>\n\t\t\t\t\tMeanwhile, just hold the thought, or even better...pen it down maybe?{\" \"}\n\t\t\t\t\t<br />\n\t\t\t\t\tThe more cheesy, the better you make the other person feel :P\n\t\t\t\t</p>\n\t\t\t\t<img src=\"/images/girl-writing.jpg\" alt=\"Illustration\" />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Timer;\n","import axios from \"axios\";\n\nexport const BACKEND =\n\tprocess.env.NODE_ENV === \"development\"\n\t\t? \"http://localhost:8000\"\n\t\t: \"http://35.193.72.125:8000\";\n\nconst instance = axios.create({\n\tbaseURL: `${BACKEND}/api`,\n});\n\nexport default instance;\n","import React from \"react\";\nimport \"./Loading.css\";\n\nexport default function Loader() {\n\treturn (\n\t\t<div style={{ margin: \"5rem\" }}>\n\t\t\t<div class=\"lds-ring\">\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport yearbook from \"../yearbook.json\";\nimport axios from \"../api\";\nimport \"./Yearbook.css\";\nimport Loader from \"./Loader\";\n\nfunction shortenQuote(quote) {\n\tconst limit = 200;\n\tif (quote.length > limit) return quote.substr(0, limit - 3) + \"...\";\n\treturn quote;\n}\n\nexport default function User() {\n\tconst [loading, setLoading] = useState(false);\n\tconst [freq, setFreq] = useState([]);\n\n\tconst location = useLocation();\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\taxios\n\t\t\t.get(`/posts`)\n\t\t\t.then(({ data }) => {\n\t\t\t\tif (data?.length) {\n\t\t\t\t\tconst freq = {};\n\t\t\t\t\tdata.forEach(({ roll }) => {\n\t\t\t\t\t\tif (roll in freq) freq[roll] += 1;\n\t\t\t\t\t\telse freq[roll] = 1;\n\t\t\t\t\t});\n\t\t\t\t\tsetFreq(freq);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(alert)\n\t\t\t.finally(() => setLoading(false));\n\t}, [location]);\n\n\tconst pageSize = 8;\n\tconst totalPages = Math.ceil(yearbook.length / pageSize);\n\tconst [page, setPage] = useState(0);\n\n\tif (loading)\n\t\treturn (\n\t\t\t<div id=\"yearbook\">\n\t\t\t\t<h1 style={{ marginBottom: \"3rem\" }}>Yearbook 2021 📖</h1>\n\t\t\t\t<Loader />\n\t\t\t</div>\n\t\t);\n\treturn (\n\t\t<div id=\"yearbook\">\n\t\t\t<h1 style={{ marginBottom: \"3rem\" }}>Yearbook 2021 📖</h1>\n\t\t\t<div className=\"holder\">\n\t\t\t\t{yearbook.map(({ roll, name, nickname, line }, index) => {\n\t\t\t\t\tconst lowerIndex = pageSize * page;\n\t\t\t\t\tconst upperIndex = lowerIndex + pageSize;\n\t\t\t\t\tif (lowerIndex <= index && index < upperIndex)\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t// <div className=\"yb-card\" onClick={()=>{\n\t\t\t\t\t\t\t// \thistory.push(`?component=wall&roll=${roll}`)\n\t\t\t\t\t\t\t// }}>\n\t\t\t\t\t\t\t<a className=\"yb-card\" href={`?component=wall&roll=${roll}`}>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={`yb_photos_400/${roll}.jpg`}\n\t\t\t\t\t\t\t\t\talt=\"profile\"\n\t\t\t\t\t\t\t\t\tclassName=\"profile-picture\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<p className=\"name\">{name}</p>\n\t\t\t\t\t\t\t\t<p className=\"nickname\">{nickname}.</p>\n\t\t\t\t\t\t\t\t<p className=\"quote\">{shortenQuote(line)}</p>\n\t\t\t\t\t\t\t\t{freq[roll] && <p>{freq[roll] ?? 0} 📝</p>}\n\t\t\t\t\t\t\t\t<span className=\"tooltiptext\">Go to {roll}'s wall</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t// </div>\n\t\t\t\t\t\t);\n\t\t\t\t\treturn null;\n\t\t\t\t})}\n\t\t\t</div>\n\t\t\t<p className=\"preview-text\">\n\t\t\t\tWrite a scribble on their walls{\" \"}\n\t\t\t\t<a href={`?component=scribble`}> here!</a>\n\t\t\t</p>\n\t\t\t<div className=\"pagination\">\n\t\t\t\t<button onClick={() => setPage(page - 1)} disabled={page === 0}>\n\t\t\t\t\tPrev\n\t\t\t\t</button>\n\t\t\t\t<p>{page + 1}</p>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => setPage(page + 1)}\n\t\t\t\t\tdisabled={page === totalPages - 1}\n\t\t\t\t>\n\t\t\t\t\tNext\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { useState } from \"react\";\nimport \"./ScribbleNote.css\";\n\nexport default function Scribble({ message }) {\n const [rotation] = useState(Math.ceil(Math.random() * 12) - 6);\n\treturn (\n\t\t<div className=\"note-container\">\n\t\t\t<div className={`note note-rotation-${rotation}`}>\n\t\t\t\t<div className=\"note-header\" />\n\t\t\t\t<p className=\"text\">{message}</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport Scribble from \"./ScribbleNote\";\nimport \"./ScribbleNote.css\";\n\nexport default function Preview({ roll, ...rest }) {\n\treturn (\n\t\t<div class=\"preview\">\n\t\t\t<Scribble {...rest} />\n\t\t\t<p className=\"preview-text\">\n\t\t\t\tPreview <br />\n\t\t\t\tThis is how {roll ? roll + \"'s\" : \"his/her\"} wall will receive the\n\t\t\t\tscribble...🙈\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n","import React, { Component } from \"react\";\nimport ReCAPTCHA from \"react-google-recaptcha\";\n\nimport Preview from \"./Preview\";\nimport axios from \"../api\";\n\nclass Form extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\troll:\n\t\t\t\tnew URLSearchParams(window.location.search.substr(1)).get(\n\t\t\t\t\t\"init_roll\"\n\t\t\t\t) ?? \"\",\n\t\t\tmessage: \"\",\n\t\t\terror: \"\",\n\t\t\tloading: false,\n\t\t};\n\t\tthis.hiddenFileInput = React.createRef(null);\n\t\tthis.recaptchaRef = React.createRef(null);\n\t}\n\n\thandleChange = (event) => {\n\t\tthis.setState({ [event.target.id]: event.target.value });\n\t};\n\n\tsubmitPostData = async () => {\n\t\tconst { message, roll } = this.state;\n\t\tconst data = { message, roll };\n\t\tconst recaptchaValue = this.recaptchaRef.current.getValue();\n\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\terror: !roll\n\t\t\t\t\t? \"Receiver's name is required.\"\n\t\t\t\t\t: !message.length\n\t\t\t\t\t? \"Message field is required\"\n\t\t\t\t\t: !recaptchaValue\n\t\t\t\t\t? \"Sorry, we are not taking response from robots yet!\"\n\t\t\t\t\t: \"\",\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tconst { error } = this.state;\n\t\t\t\tif (!error) {\n\t\t\t\t\tthis.setState({ loading: true }, () => {\n\t\t\t\t\t\taxios\n\t\t\t\t\t\t\t.post(`/add_post/`, data)\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tthis.clearForm();\n\t\t\t\t\t\t\t\tthis.setState({ completed: true });\n\t\t\t\t\t\t\t\twindow.location.href = \"?component=wall&roll=\" + roll;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\tthis.setState({ error: error?.message ?? error });\n\t\t\t\t\t\t\t\talert(error);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.finally(() => this.setState({ loading: false }));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t};\n\n\tclearForm = () => {\n\t\tthis.setState({\n\t\t\troll: \"\",\n\t\t\tmessage: \"\",\n\t\t\terror: \"\",\n\t\t\tloading: false,\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { roll, error, message, loading, completed } = this.state;\n\t\tconst { yearbook } = this.props;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{completed ? (\n\t\t\t\t\t<p className=\"preview-text\">\n\t\t\t\t\t\tYou have scribbled your farewell, leave the rest to us... 🥳\n\t\t\t\t\t</p>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"form-page\">\n\t\t\t\t\t\t<div id=\"form\">\n\t\t\t\t\t\t\t<div className=\"card\">\n\t\t\t\t\t\t\t\t<select id=\"roll\" value={roll} onChange={this.handleChange}>\n\t\t\t\t\t\t\t\t\t<option value=\"\">Choose the Wall</option>\n\t\t\t\t\t\t\t\t\t{yearbook.map(({ roll, name, branch }) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<option value={roll}>\n\t\t\t\t\t\t\t\t\t\t\t\t{name} {branch}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<div className=\"divider\" />\n\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tid=\"message\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tvalue={message}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Pour your heart out!\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<ReCAPTCHA\n\t\t\t\t\t\t\t\tsitekey=\"6LfJ0WMaAAAAAO9K5Lj8DrYFLfR2bAwav1-w_XQs\"\n\t\t\t\t\t\t\t\tonChange={this.recaptcha}\n\t\t\t\t\t\t\t\tref={this.recaptchaRef}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{error && <p id=\"error-para\">{error}</p>}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tid=\"submit\"\n\t\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\t\tonClick={this.submitPostData}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tPost\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button id=\"clear\" onClick={this.clearForm}>\n\t\t\t\t\t\t\t\t\tClear\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Preview {...this.state} />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<p className=\"preview-text\">\n\t\t\t\t\tFor assistance/queries reachout to{\" \"}\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"mailto:wellbeing@iitj.ac.in\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t>\n\t\t\t\t\t\tus\n\t\t\t\t\t</a>\n\t\t\t\t\t{\" \"}or mail{\" \"}\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"mailto:tawatia.1@iitj.ac.in\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t>\n\t\t\t\t\t\tdev\n\t\t\t\t\t</a>\n\t\t\t\t\t{\" \"}to report.\n\t\t\t\t</p>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default Form;\n","import React, { Component } from \"react\";\n\nclass Closed extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div id=\"timer\">\n\t\t\t\t<p>Thank you for participating in this scribble night 🥳</p>\n\t\t\t\t<h1>2536 💌</h1>\n\t\t\t\t<span>scribbles were recorded.</span>\n\t\t\t\t<p>\n\t\t\t\t\tAnd remember,\n\t\t\t\t\t<br />\n\t\t\t\t\tYou don't need to scribble to express the heavenly feeling of\n\t\t\t\t\tfarewell,\n\t\t\t\t\t<br /> so just go and make someone's day...\n\t\t\t\t</p>\n\t\t\t\t<img src=\"/images/girl-writing.jpg\" alt=\"Illustration\" />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Closed;\n","import React, { useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router\";\nimport Scribble from \"./ScribbleNote\";\nimport yearbook from \"../yearbook.json\";\nimport axios from \"../api\";\nimport \"./User.css\";\nimport Loader from \"./Loader\";\n\nexport default function User() {\n\tconst [loading, setLoading] = useState(true);\n\tconst [user, setUser] = useState({});\n\tconst [data, setData] = useState([]);\n\n\tconst location = useLocation();\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tconst roll = new URLSearchParams(location.search.substr(1)).get(\"roll\");\n\t\tyearbook.forEach((entry) => {\n\t\t\tif (entry.roll === roll) setUser(entry);\n\t\t});\n\t\taxios\n\t\t\t.get(`/posts`)\n\t\t\t.then(({ data }) => {\n\t\t\t\tif (data?.length) {\n\t\t\t\t\tsetData(data.filter((entry) => entry.roll === roll));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(alert)\n\t\t\t.finally(() => setLoading(false));\n\t}, [location]);\n\n\tif (loading) return <Loader />;\n\tconst { name, nickname, line, about, roll } = user;\n\treturn (\n\t\t<div className=\"wall\">\n\t\t\t<h1>{name}</h1>\n\t\t\t<div className=\"yb-card\">\n\t\t\t\t<img\n\t\t\t\t\tsrc={`yb_photos/${roll}.jpg`}\n\t\t\t\t\talt=\"profile\"\n\t\t\t\t\tclassName=\"profile-picture\"\n\t\t\t\t/>\n\t\t\t\t<div className=\"description\">\n\t\t\t\t\t<p className=\"nickname\">{nickname}.</p>\n\t\t\t\t\t<p className=\"quote\">{line}</p>\n\t\t\t\t\t<p className=\"about\">{about}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"divider\" />\n\t\t\t<h1>Wall 🧱</h1>\n\t\t\t<div className=\"holder\">\n\t\t\t\t{data.map((entry) => {\n\t\t\t\t\treturn <Scribble {...entry} />;\n\t\t\t\t})}\n\t\t\t</div>\n\t\t\t<p className=\"preview-text\">\n\t\t\t\tWrite a scribble on this wall\n\t\t\t\t<a href={`?component=scribble&init_roll=${roll}`}> here!</a>\n\t\t\t</p>\n\t\t\t\t<p className=\"preview-text\">\n\t\t\t\t\tFor assistance/queries reachout to{\" \"}\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"mailto:wellbeing@iitj.ac.in\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t>\n\t\t\t\t\t\tus\n\t\t\t\t\t</a>\n\t\t\t\t\t{\" \"}or mail{\" \"}\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"mailto:tawatia.1@iitj.ac.in\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t>\n\t\t\t\t\t\tdev\n\t\t\t\t\t</a>\n\t\t\t\t\t{\" \"}to report.\n\t\t\t\t</p>\n\t\t</div>\n\t);\n}\n","import { useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport \"./App.css\";\nimport Timer from \"./components/Timer\";\nimport Yearbook from \"./components/Yearbook\";\nimport Form from \"./components/Form\";\nimport Closed from \"./components/Closed\";\n\nimport User from \"./components/User\";\nimport { startdate, enddate } from \"./config\";\nimport yearbook from \"./yearbook.json\";\n\nfunction App() {\n\tconst [time, setTime] = useState(Date.now());\n\tuseEffect(() => {\n\t\tconst interval = setInterval(() => {\n\t\t\tsetTime(Date.now());\n\t\t}, 1000);\n\t\treturn () => clearInterval(interval);\n\t}, []);\n\n\tconst [component, setComponent] = useState(null);\n\tconst location = useLocation();\n\tuseEffect(() => {\n\t\tconst component = new URLSearchParams(location.search.substr(1)).get(\n\t\t\t\"component\"\n\t\t);\n\t\tsetComponent(component);\n\t}, [location]);\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t{component === \"wall\" ? (\n\t\t\t\t<User />\n\t\t\t) : component === \"scribble\" ? (\n\t\t\t\t<>\n\t\t\t\t\t<h1 style={{ color: \"#00000095\" }}>Scribble!</h1>\n\t\t\t\t\t{time < Date.parse(startdate) ? (\n\t\t\t\t\t\t<Timer />\n\t\t\t\t\t) : time > Date.parse(enddate) ? (\n\t\t\t\t\t\t<Closed />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Form yearbook={yearbook} />\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<Yearbook />\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Router>\n\t\t\t<App />\n\t\t</Router>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}